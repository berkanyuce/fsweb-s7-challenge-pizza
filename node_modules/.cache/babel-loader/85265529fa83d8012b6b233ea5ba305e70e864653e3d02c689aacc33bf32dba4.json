{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar formPropsIns_1 = require(\"../formPropsIns\");\nvar enumerations_1 = require(\"../../shared/enumerations\");\nfunction alwaysValid(data) {\n  return new formPropsIns_1.DetailIns(null, data, true, null, null);\n}\nfunction has2Validate(validation, validType) {\n  return !validation.skipValidationTypes.includes(validType);\n}\nvar general = function (validation, detail, value, props) {\n  var isValidAttr = function (validType) {\n    return has2Validate(validation, validType);\n  };\n  props = props || {};\n  value = value || '';\n  if (!value) {\n    if (isValidAttr(enumerations_1.ValidationType.required) && props.required) {\n      return new formPropsIns_1.DetailIns(detail, value, false, 'required');\n    }\n    return new formPropsIns_1.DetailIns(detail, value, true, null);\n  }\n  if (isValidAttr(enumerations_1.ValidationType.minLength) && props.minLength && value && props.minLength > value.length) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'minLength');\n  }\n  if (isValidAttr(enumerations_1.ValidationType.exactLength) && props.exactLength && value && props.exactLength > value.length) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'exactLength');\n  }\n  if (isValidAttr(enumerations_1.ValidationType.min) && props.min && +props.min > +value) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'min');\n  }\n  if (isValidAttr(enumerations_1.ValidationType.max) && props.max && +props.max < +value && +value < 0) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'max');\n  }\n  return new formPropsIns_1.DetailIns(detail, value, true, null);\n};\nvar forRestriction = function (validation, detail, value, props) {\n  var isValidAttr = function (validType) {\n    return has2Validate(validation, validType);\n  };\n  props = props || {};\n  value = value || '';\n  if (!value) {\n    return new formPropsIns_1.DetailIns(detail, value, true, null);\n  }\n  if (isValidAttr(enumerations_1.ValidationType.maxLength) && props.maxLength && value && props.maxLength < value.length) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'maxLength');\n  }\n  if (isValidAttr(enumerations_1.ValidationType.max) && props.max && +props.max < +value && +value > 0) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'max');\n  }\n  if (isValidAttr(enumerations_1.ValidationType.pattern) && props.pattern && !new RegExp(props.pattern).test(value)) {\n    return new formPropsIns_1.DetailIns(detail, value, false, 'pattern');\n  }\n  return new formPropsIns_1.DetailIns(detail, value, true, null);\n};\nvar formVali = {\n  alwaysValid: alwaysValid,\n  forRestriction: forRestriction,\n  general: general\n};\nexports.default = formVali;","map":{"version":3,"names":["formPropsIns_1","require","enumerations_1","alwaysValid","data","DetailIns","has2Validate","validation","validType","skipValidationTypes","includes","general","detail","value","props","isValidAttr","ValidationType","required","minLength","length","exactLength","min","max","forRestriction","maxLength","pattern","RegExp","test","formVali","exports","default"],"sources":["../../../form/validation/formVali.ts"],"sourcesContent":[null],"mappings":";;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAGA,IAAAC,cAAA,GAAAD,OAAA;AAGA,SAASE,WAAWA,CAACC,IAAS;EAC1B,OAAO,IAAIJ,cAAA,CAAAK,SAAS,CAAC,IAAI,EAAED,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACtD;AAEA,SAASE,YAAYA,CAACC,UAA4B,EAAEC,SAAyB;EACzE,OAAO,CAACD,UAAU,CAACE,mBAAmB,CAACC,QAAQ,CAACF,SAAS,CAAC;AAC9D;AAUA,IAAMG,OAAO,GAAqB,SAAAA,CAACJ,UAAU,EAAEK,MAAM,EAAEC,KAAK,EAAEC,KAAK;EAE/D,IAAMC,WAAW,GAAG,SAAAA,CAACP,SAAyB;IAAK,OAAAF,YAAY,CAACC,UAAU,EAAEC,SAAS,CAAC;EAAnC,CAAmC;EAEtFM,KAAK,GAAGA,KAAK,IAAI,EAAE;EACnBD,KAAK,GAAGA,KAAK,IAAI,EAAE;EAEnB,IAAI,CAACA,KAAK,EAAE;IACR,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACC,QAAQ,CAAC,IAAIH,KAAK,CAACG,QAAQ,EAAE;MACxD,OAAO,IAAIjB,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC;;IAE1D,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;;EAGnD,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACE,SAAS,CAAC,IAAIJ,KAAK,CAACI,SAAS,IAAIL,KAAK,IAAIC,KAAK,CAACI,SAAS,GAAGL,KAAK,CAACM,MAAM,EAAE;IACrG,OAAO,IAAInB,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,WAAW,CAAC;;EAG3D,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACI,WAAW,CAAC,IAAIN,KAAK,CAACM,WAAW,IAAIP,KAAK,IAAIC,KAAK,CAACM,WAAW,GAAGP,KAAK,CAACM,MAAM,EAAE;IAC3G,OAAO,IAAInB,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;;EAG7D,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACK,GAAG,CAAC,IAAIP,KAAK,CAACO,GAAG,IAAI,CAACP,KAAK,CAACO,GAAG,GAAG,CAACR,KAAK,EAAE;IACrE,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;;EAGrD,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACM,GAAG,CAAC,IAAIR,KAAK,CAACQ,GAAG,IAAI,CAACR,KAAK,CAACQ,GAAG,GAAG,CAACT,KAAK,IAAK,CAACA,KAAK,GAAG,CAAE,EAAE;IACrF,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;;EAGrD,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;AACnD,CAAC;AAUD,IAAMU,cAAc,GAAqB,SAAAA,CAAChB,UAAU,EAAEK,MAAM,EAAEC,KAAK,EAAEC,KAAK;EAEtE,IAAMC,WAAW,GAAG,SAAAA,CAACP,SAAyB;IAAK,OAAAF,YAAY,CAACC,UAAU,EAAEC,SAAS,CAAC;EAAnC,CAAmC;EAEtFM,KAAK,GAAGA,KAAK,IAAI,EAAE;EACnBD,KAAK,GAAGA,KAAK,IAAI,EAAE;EAEnB,IAAI,CAACA,KAAK,EAAE;IACR,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;;EAGnD,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACQ,SAAS,CAAC,IAAIV,KAAK,CAACU,SAAS,IAAIX,KAAK,IAAIC,KAAK,CAACU,SAAS,GAAGX,KAAK,CAACM,MAAM,EAAE;IACrG,OAAO,IAAInB,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,WAAW,CAAC;;EAG3D,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACM,GAAG,CAAC,IAAIR,KAAK,CAACQ,GAAG,IAAI,CAACR,KAAK,CAACQ,GAAG,GAAG,CAACT,KAAK,IAAK,CAACA,KAAK,GAAG,CAAE,EAAE;IACrF,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;;EAGrD,IAAIE,WAAW,CAACb,cAAA,CAAAc,cAAc,CAACS,OAAO,CAAC,IAAIX,KAAK,CAACW,OAAO,IAAI,CAAE,IAAIC,MAAM,CAACZ,KAAK,CAACW,OAAO,CAAC,CAACE,IAAI,CAACd,KAAK,CAAE,EAAE;IAClG,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC;;EAGzD,OAAO,IAAIb,cAAA,CAAAK,SAAS,CAACO,MAAM,EAAEC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;AACnD,CAAC;AAED,IAAMe,QAAQ,GAAG;EAAEzB,WAAW,EAAAA,WAAA;EAAEoB,cAAc,EAAAA,cAAA;EAAEZ,OAAO,EAAAA;AAAA,CAAE;AAEzDkB,OAAA,CAAAC,OAAA,GAAeF,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}