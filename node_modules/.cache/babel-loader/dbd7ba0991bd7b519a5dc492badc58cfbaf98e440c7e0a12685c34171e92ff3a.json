{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = __importDefault(require(\"react\"));\nvar detailMode_1 = require(\"../detailMode\");\nvar formEvents_1 = __importDefault(require(\"../formEvents\"));\nvar formPropsIns_1 = require(\"../formPropsIns\");\nvar appSettings_1 = __importDefault(require(\"../../shared/appSettings\"));\nvar CustomInput = function (_a) {\n  var setReference = _a.setReference,\n    inputTag = _a.inputTag,\n    validation = _a.validation,\n    type = _a.type,\n    value = _a.value,\n    className = _a.className,\n    onKeyPress = _a.onKeyPress,\n    onChange = _a.onChange,\n    onBlur = _a.onBlur,\n    _b = _a.detailModes,\n    detailModes = _b === void 0 ? [detailMode_1.DetailMode.onBlur, detailMode_1.DetailMode.onChange] : _b,\n    exactLength = _a.exactLength,\n    extractValueToValidate = _a.extractValueToValidate,\n    extractValueToSet = _a.extractValueToSet,\n    hasError = _a.hasError,\n    props = __rest(_a, [\"setReference\", \"inputTag\", \"validation\", \"type\", \"value\", \"className\", \"onKeyPress\", \"onChange\", \"onBlur\", \"detailModes\", \"exactLength\", \"extractValueToValidate\", \"extractValueToSet\", \"hasError\"]);\n  var inputRef = react_1.default.useRef();\n  var _c = react_1.default.useState(value),\n    data = _c[0],\n    setData = _c[1];\n  var _d = react_1.default.useState(hasError || false),\n    controlHasError = _d[0],\n    setControlHasError = _d[1];\n  var InputTag = inputTag;\n  var onBlurEvent = formEvents_1.default.onBlurEvent,\n    onChangeEvent = formEvents_1.default.onChangeEvent,\n    onKeyPressEvent = formEvents_1.default.onKeyPressEvent;\n  react_1.default.useEffect(function () {\n    return setControlHasError(hasError || false);\n  }, [hasError]);\n  react_1.default.useEffect(function () {\n    setReference && setReference(getInputRef);\n  }, []);\n  react_1.default.useEffect(function () {\n    var newVal = extractValueToValidate ? extractValueToValidate(value) : value;\n    if (extractValueToSet) {\n      var valueToSet = extractValueToSet(null, newVal);\n      newVal = valueToSet.value;\n      if (validation && validation.controlSpecific) {\n        var detail = validation.controlSpecific(newVal);\n        if (!detail.isValid) {\n          newVal = '';\n        }\n      }\n    }\n    setData(newVal);\n  }, [value]);\n  var changeEvent = function (e) {\n    return onChange && onChange(e);\n  };\n  var getInputRef = function () {\n    return inputRef;\n  };\n  var consolidatedProps = __assign({\n    type: type,\n    exactLength: exactLength\n  }, props);\n  var validationParam = validation || new formPropsIns_1.ValidationIns();\n  var cn = controlHasError ? appSettings_1.default.error.defaultControlError : '';\n  var _e = __assign({\n      type: type || 'text',\n      className: cn + \" \" + (className || ''),\n      onChange: function (e) {\n        onChangeEvent(e, data, setData, changeEvent, validationParam, detailModes, consolidatedProps, extractValueToValidate, setControlHasError, extractValueToSet);\n      },\n      onBlur: function (e) {\n        return onBlurEvent(e, data, setData, onBlur, validationParam, detailModes, consolidatedProps, extractValueToValidate, setControlHasError, extractValueToSet);\n      },\n      onKeyPress: function (e) {\n        return onKeyPressEvent(e, validationParam, onKeyPress, consolidatedProps, extractValueToValidate);\n      },\n      value: data,\n      checked: !!data\n    }, props),\n    children = _e.children,\n    params = __rest(_e, [\"children\"]);\n  if (InputTag) {\n    return react_1.default.createElement(InputTag, __assign({\n      ref: inputRef,\n      children: children\n    }, params));\n  }\n  return react_1.default.createElement(\"input\", __assign({\n    ref: inputRef\n  }, params));\n};\nexports.default = CustomInput;","map":{"version":3,"names":["react_1","__importDefault","require","detailMode_1","formEvents_1","formPropsIns_1","appSettings_1","CustomInput","_a","setReference","inputTag","validation","type","value","className","onKeyPress","onChange","onBlur","_b","detailModes","DetailMode","exactLength","extractValueToValidate","extractValueToSet","hasError","props","__rest","inputRef","default","useRef","_c","useState","data","setData","_d","controlHasError","setControlHasError","InputTag","onBlurEvent","onChangeEvent","onKeyPressEvent","useEffect","getInputRef","newVal","valueToSet","controlSpecific","detail","isValid","changeEvent","e","consolidatedProps","__assign","validationParam","ValidationIns","cn","error","defaultControlError","_e","checked","children","params","createElement","ref","exports"],"sources":["../../../form/controls/customInput.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAH,eAAA,CAAAC,OAAA;AAEA,IAAAG,cAAA,GAAAH,OAAA;AAEA,IAAAI,aAAA,GAAAL,eAAA,CAAAC,OAAA;AAEA,IAAMK,WAAW,GAAgC,SAAAA,CAACC,EAAgO;EAA9N,IAAAC,YAAY,GAAAD,EAAA,CAAAC,YAAA;IAAEC,QAAQ,GAAAF,EAAA,CAAAE,QAAA;IAAEC,UAAU,GAAAH,EAAA,CAAAG,UAAA;IAAEC,IAAI,GAAAJ,EAAA,CAAAI,IAAA;IAAEC,KAAK,GAAAL,EAAA,CAAAK,KAAA;IAAEC,SAAS,GAAAN,EAAA,CAAAM,SAAA;IAAEC,UAAU,GAAAP,EAAA,CAAAO,UAAA;IAAEC,QAAQ,GAAAR,EAAA,CAAAQ,QAAA;IAAEC,MAAM,GAAAT,EAAA,CAAAS,MAAA;IAAEC,EAAA,GAAAV,EAAA,CAAAW,WAAsD;IAAtDA,WAAW,GAAAD,EAAA,cAAG,CAACf,YAAA,CAAAiB,UAAU,CAACH,MAAM,EAAEd,YAAA,CAAAiB,UAAU,CAACJ,QAAQ,CAAC,GAAAE,EAAA;IAAEG,WAAW,GAAAb,EAAA,CAAAa,WAAA;IAAEC,sBAAsB,GAAAd,EAAA,CAAAc,sBAAA;IAAEC,iBAAiB,GAAAf,EAAA,CAAAe,iBAAA;IAAEC,QAAQ,GAAAhB,EAAA,CAAAgB,QAAA;IAAKC,KAAK,GAAAC,MAAA,CAAAlB,EAAA,EAA9N,qMAAgO,CAAF;EAE5Q,IAAMmB,QAAQ,GAAG3B,OAAA,CAAA4B,OAAK,CAACC,MAAM,EAAE;EACzB,IAAAC,EAAA,GAAkB9B,OAAA,CAAA4B,OAAK,CAACG,QAAQ,CAAClB,KAAK,CAAC;IAAtCmB,IAAI,GAAAF,EAAA;IAAEG,OAAO,GAAAH,EAAA,GAAyB;EACvC,IAAAI,EAAA,GAAwClC,OAAA,CAAA4B,OAAK,CAACG,QAAQ,CAACP,QAAQ,IAAI,KAAK,CAAC;IAAxEW,eAAe,GAAAD,EAAA;IAAEE,kBAAkB,GAAAF,EAAA,GAAqC;EAC/E,IAAMG,QAAQ,GAAG3B,QAAQ;EAEjB,IAAA4B,WAAW,GAAqClC,YAAA,CAAAwB,OAAU,CAAAU,WAA/C;IAAEC,aAAa,GAAsBnC,YAAA,CAAAwB,OAAU,CAAAW,aAAhC;IAAEC,eAAe,GAAKpC,YAAA,CAAAwB,OAAU,CAAAY,eAAf;EAEnDxC,OAAA,CAAA4B,OAAK,CAACa,SAAS,CAAC;IAAM,OAAAL,kBAAkB,CAACZ,QAAQ,IAAI,KAAK,CAAC;EAArC,CAAqC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAExExB,OAAA,CAAA4B,OAAK,CAACa,SAAS,CAAC;IACZhC,YAAY,IAAIA,YAAY,CAACiC,WAAW,CAAC;EAE7C,CAAC,EAAE,EAAE,CAAC;EAEN1C,OAAA,CAAA4B,OAAK,CAACa,SAAS,CAAC;IACZ,IAAIE,MAAM,GAAGrB,sBAAsB,GAAGA,sBAAsB,CAACT,KAAK,CAAC,GAAGA,KAAK;IAE3E,IAAIU,iBAAiB,EAAE;MACnB,IAAMqB,UAAU,GAAGrB,iBAAiB,CAAC,IAAI,EAAEoB,MAAM,CAAC;MAClDA,MAAM,GAAGC,UAAU,CAAC/B,KAAK;MAEzB,IAAIF,UAAU,IAAIA,UAAU,CAACkC,eAAe,EAAE;QAC1C,IAAMC,MAAM,GAAGnC,UAAU,CAACkC,eAAe,CAACF,MAAM,CAAC;QACjD,IAAI,CAACG,MAAM,CAACC,OAAO,EAAE;UACjBJ,MAAM,GAAG,EAAE;;;;IAKvBV,OAAO,CAACU,MAAM,CAAC;EACnB,CAAC,EAAE,CAAC9B,KAAK,CAAC,CAAC;EAEX,IAAMmC,WAAW,GAAG,SAAAA,CAACC,CAAoB;IAAK,OAAAjC,QAAQ,IAAIA,QAAQ,CAACiC,CAAC,CAAC;EAAvB,CAAuB;EAErE,IAAMP,WAAW,GAAG,SAAAA,CAAA;IAAM,OAAAf,QAAQ;EAAR,CAAQ;EAElC,IAAMuB,iBAAiB,GAAAC,QAAA;IAAKvC,IAAI,EAAAA,IAAA;IAAES,WAAW,EAAAA;EAAA,GAAKI,KAAK,CAAE;EAEzD,IAAM2B,eAAe,GAAGzC,UAAU,IAAI,IAAIN,cAAA,CAAAgD,aAAa,EAAE;EAEzD,IAAMC,EAAE,GAAGnB,eAAe,GAAG7B,aAAA,CAAAsB,OAAW,CAAC2B,KAAK,CAACC,mBAAmB,GAAG,EAAE;EAGvE,IAAMC,EAAA,GAAAN,QAAA;MACFvC,IAAI,EAAEA,IAAI,IAAI,MAAM;MACpBE,SAAS,EAAKwC,EAAE,UAAIxC,SAAS,IAAI,EAAE,CAAE;MACrCE,QAAQ,EAAE,SAAAA,CAACiC,CAAoB;QAC3BV,aAAa,CAACU,CAAC,EAAEjB,IAAI,EAAEC,OAAO,EAAEe,WAAW,EAAEI,eAAe,EAAEjC,WAAW,EAAE+B,iBAAiB,EAAE5B,sBAAsB,EAAEc,kBAAkB,EAAEb,iBAAiB,CAAC;MAChK,CAAC;MACDN,MAAM,EAAE,SAAAA,CAACgC,CAAmB;QAAK,OAAAX,WAAW,CAACW,CAAC,EAAEjB,IAAI,EAAEC,OAAO,EAAEhB,MAAM,EAAEmC,eAAe,EAAEjC,WAAW,EAAE+B,iBAAiB,EAAE5B,sBAAsB,EAAEc,kBAAkB,EAAEb,iBAAiB,CAAC;MAArJ,CAAqJ;MACtLR,UAAU,EAAE,SAAAA,CAACkC,CAAsB;QAAK,OAAAT,eAAe,CAACS,CAAC,EAAEG,eAAe,EAAErC,UAAU,EAAEmC,iBAAiB,EAAE5B,sBAAsB,CAAC;MAA1F,CAA0F;MAClIT,KAAK,EAAEmB,IAAI;MACX0B,OAAO,EAAE,CAAC,CAAC1B;IAAI,GACZP,KAAK,CACX;IAXOkC,QAAQ,GAAAF,EAAA,CAAAE,QAAA;IAAKC,MAAM,GAAAlC,MAAA,CAAA+B,EAAA,EAArB,YAAuB,CAW5B;EAED,IAAIpB,QAAQ,EAAE;IACV,OAAOrC,OAAA,CAAA4B,OAAA,CAAAiC,aAAA,CAACxB,QAAQ,EAAAc,QAAA;MAACW,GAAG,EAAEnC,QAAQ;MAAEgC,QAAQ,EAAEA;IAAQ,GAAMC,MAAM,EAAI;;EAItE,OAAO5D,OAAA,CAAA4B,OAAA,CAAAiC,aAAA,UAAAV,QAAA;IAAOW,GAAG,EAAEnC;EAAQ,GAAMiC,MAAM,EAAI;AAC/C,CAAC;AAEDG,OAAA,CAAAnC,OAAA,GAAerB,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}