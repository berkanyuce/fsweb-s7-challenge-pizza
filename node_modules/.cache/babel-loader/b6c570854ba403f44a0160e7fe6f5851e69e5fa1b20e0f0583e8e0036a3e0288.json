{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar detailMode_1 = require(\"./detailMode\");\nvar formVali_1 = __importDefault(require(\"./validation/formVali\"));\nvar utility_1 = __importDefault(require(\"../shared/utility\"));\nvar detailHasError = function (detail) {\n  return !!(detail && !detail.isValid);\n};\nvar onChangeEvent = function (e, data, setData, onChangeCB, validation, detailModes, props, extractValueToValidate, setControlHasError, extractValueToSet) {\n  var value = e.target.value;\n  e.detail = null;\n  var tempData = data || '';\n  if (extractValueToSet) {\n    var valueToSet = extractValueToSet(e, value);\n    utility_1.default.setEventArgsValue(e, valueToSet);\n    value = valueToSet.value;\n    setData && setData(value);\n  }\n  var value4Validation = extractValueToValidate ? extractValueToValidate(e.target.value) : e.target.value;\n  var detail = validation.controlSpecific && validation.controlSpecific(value4Validation);\n  if (detail && !detail.isValid && validation.preventInput.includes(detailMode_1.DetailMode.onChange)) {\n    utility_1.default.setEventArgsValue(e, tempData);\n    setData(tempData);\n    e.detail = detail;\n    return;\n  }\n  var detailRestriction = formVali_1.default.forRestriction(validation, null, value4Validation, props);\n  if (detailHasError(detailRestriction)) {\n    utility_1.default.setEventArgsValue(e, tempData);\n    setData(tempData);\n    e.detail = detailRestriction;\n    return;\n  }\n  if (!detailHasError(detail)) {\n    var generalDetail = formVali_1.default.general(validation, null, value4Validation, props);\n    if (generalDetail) {\n      generalDetail.metadata = generalDetail.metadata || [];\n      generalDetail.metadata = generalDetail.metadata.concat((detail === null || detail === void 0 ? void 0 : detail.metadata) || []);\n      detail = generalDetail;\n    }\n  }\n  e.detail = detail;\n  setControlHasError(e.detail && !e.detail.isValid);\n  setData && setData(e.target.value);\n  onChangeCB && onChangeCB(e);\n};\nvar onBlurEvent = function (e, data, setData, onBlurCB, validation, detailModes, props, extractValueToValidate, setControlHasError, extractValueToSet) {\n  var value = e.target.value;\n  e.detail = null;\n  var tempData = data || '';\n  if (extractValueToSet) {\n    var valueToSet = extractValueToSet(e, value);\n    utility_1.default.setEventArgsValue(e, valueToSet);\n    value = valueToSet.value;\n    setData && setData(value);\n  }\n  var value4Validation = extractValueToValidate ? extractValueToValidate(e.target.value) : e.target.value;\n  var detail = validation.controlSpecific && validation.controlSpecific(value4Validation);\n  if (detail && !detail.isValid && validation.preventInput.includes(detailMode_1.DetailMode.onChange)) {\n    utility_1.default.setEventArgsValue(e, tempData);\n    setData(tempData);\n    e.detail = detail;\n    return;\n  }\n  var detailRestriction = formVali_1.default.forRestriction(validation, null, value4Validation, props);\n  if (detailHasError(detailRestriction)) {\n    utility_1.default.setEventArgsValue(e, tempData);\n    setData(tempData);\n    e.detail = detailRestriction;\n    return;\n  }\n  if (!detailHasError(detail)) {\n    var generalDetail = formVali_1.default.general(validation, null, value4Validation, props);\n    if (generalDetail) {\n      generalDetail.metadata = generalDetail.metadata || [];\n      generalDetail.metadata = generalDetail.metadata.concat((detail === null || detail === void 0 ? void 0 : detail.metadata) || []);\n      detail = generalDetail;\n    }\n  }\n  e.detail = detail;\n  setControlHasError(e.detail && !e.detail.isValid);\n  setData && setData(e.target.value);\n  onBlurCB && onBlurCB(e);\n};\nvar onKeyPressEvent = function (e, validation, onKeyPressCB, props, extractValueToValidate) {\n  e.detail = null;\n  if (validation.preventInput.includes(detailMode_1.DetailMode.onKeyPress)) {\n    var detail = validation.controlSpecific && validation.controlSpecific(e.key);\n    if (detail && !detail.isValid) {\n      e.preventDefault();\n      return;\n    }\n  }\n  onKeyPressCB && onKeyPressCB(e);\n};\nvar FormEvents = {\n  onChangeEvent: onChangeEvent,\n  onBlurEvent: onBlurEvent,\n  onKeyPressEvent: onKeyPressEvent\n};\nexports.default = FormEvents;","map":{"version":3,"names":["detailMode_1","require","formVali_1","__importDefault","utility_1","detailHasError","detail","isValid","onChangeEvent","e","data","setData","onChangeCB","validation","detailModes","props","extractValueToValidate","setControlHasError","extractValueToSet","value","target","tempData","valueToSet","default","setEventArgsValue","value4Validation","controlSpecific","preventInput","includes","DetailMode","onChange","detailRestriction","forRestriction","generalDetail","general","metadata","concat","onBlurEvent","onBlurCB","onKeyPressEvent","onKeyPressCB","onKeyPress","key","preventDefault","FormEvents","exports"],"sources":["../../form/formEvents.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}